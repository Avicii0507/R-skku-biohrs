<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.313">

  <title>data.table</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">data.table</h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="기본-문법" class="slide level2">
<h2>기본 문법</h2>

<img src="basic.jpg" class="r-stretch"><ul>
<li><strong>i</strong>: 행 선택</li>
<li><strong>j</strong>: 열 선택 or 함수 적용</li>
<li><strong>by</strong>: 집단 나눔</li>
</ul>
</section>
<section id="fread-fwrite" class="slide level2">
<h2>fread / fwrite</h2>
<p>속도가 매우 빠름 (R의 base 함수보다 40배 더 빠름)</p>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">fread</span>(<span class="st">"https://raw.githubusercontent.com/jinseob2kim/lecture-snuhlab/master/data/example_g1e.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
   1:         2009  562083     200909            0             0            1
   2:         2009  334536     200911            0             0            0
   3:         2009  911867     200903            0             0            0
   4:         2009  183321     200908           NA            NA           NA
   5:         2009  942671     200909           NA            NA           NA
  ---                                                                        
1640:         2015  266734     201504           NA            NA           NA
1641:         2015  343874     201511            0             0            0
1642:         2015  798472     201507           NA            NA           NA
1643:         2015  720080     201505           NA            NA           NA
1644:         2015  127519     201511            0             0            1
      Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
   1:           0            0           NA        3        1              0
   2:           0            0           NA        2        1              0
   3:           0            0           NA        3        1              0
   4:          NA           NA           NA        3        1              0
   5:          NA           NA           NA        3        1              0
  ---                                                                       
1640:          NA           NA           NA        1        2              2
1641:           1            0            0        2        2              0
1642:          NA           NA           NA        3        2              0
1643:          NA            1           NA        2        2              1
1644:           0            0            0        3        2              4
      HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL
   1:  144   61   90 29.4   0.7   0.8    120     80        1 12.6 117      264
   2:  162   51   63 19.4   0.8   1.0    120     80        1 13.8  96      169
   3:  163   65   82 24.5   0.7   0.6    130     80        1 15.0 118      216
   4:  152   51   70 22.1   0.8   0.9    101     62        1 13.1  90      199
   5:  159   50   73 19.8   0.7   0.8    132     78        1 13.0  92      162
  ---                                                                         
1640:  171   76   88 26.0   1.2   1.2    125     89        1 14.1  77      363
1641:  179   80   88 25.0   1.0   0.7    126     83        1 14.9 119      106
1642:  163   63   80 23.7   1.5   1.5    118     77        1 16.1 160      271
1643:  165   70   92 25.7   0.6   0.8    120     80        1 13.6  81      289
1644:  168   84  103 29.8   0.9   0.8    140     85        1 15.2 134      210
       TG HDL LDL CRTN SGOT SGPT GGT GFR
   1: 128  60 179  0.9   25   20  25  59
   2:  92  70  80  0.9   18   15  28  74
   3: 132  55 134  0.8   26   30  30  79
   4: 100  65 114  0.9   18   14  11  61
   5:  58  40 111  0.9   24   23  15  49
  ---                                   
1640: 280  63 244  0.9   19   32  95  96
1641: 247  29  50  0.9  101  157  62  79
1642: 514  51 151  1.0   40   66 104  85
1643: 810  52  NA  1.0   37   33  76  86
1644: 298  56  94  1.1   55   49  66  66</code></pre>
</div>
</div>
</section>
<section id="exam-data" class="slide level2 smaller">
<h2>Exam data</h2>
<p><strong>data.frame</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://raw.githubusercontent.com/jinseob2kim/lecture-snuhlab/master/data/example_g1e.csv"</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
1         2009  562083     200909            0             0            1
2         2009  334536     200911            0             0            0
3         2009  911867     200903            0             0            0
4         2009  183321     200908           NA            NA           NA
5         2009  942671     200909           NA            NA           NA
6         2009  979358     200912           NA            NA           NA
  Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N HGHT
1           0            0           NA        3        1              0  144
2           0            0           NA        2        1              0  162
3           0            0           NA        3        1              0  163
4          NA           NA           NA        3        1              0  152
5          NA           NA           NA        3        1              0  159
6          NA           NA           NA        2        1              0  157
  WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL  TG HDL
1   61   90 29.4   0.7   0.8    120     80        1 12.6 117      264 128  60
2   51   63 19.4   0.8   1.0    120     80        1 13.8  96      169  92  70
3   65   82 24.5   0.7   0.6    130     80        1 15.0 118      216 132  55
4   51   70 22.1   0.8   0.9    101     62        1 13.1  90      199 100  65
5   50   73 19.8   0.7   0.8    132     78        1 13.0  92      162  58  40
6   55   73 22.3   1.5   1.5    110     70        1 11.9 100      192 109  53
  LDL CRTN SGOT SGPT GGT GFR
1 179  0.9   25   20  25  59
2  80  0.9   18   15  28  74
3 134  0.8   26   30  30  79
4 114  0.9   18   14  11  61
5 111  0.9   24   23  15  49
6 117  0.7   15   12  14  83</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">class</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
</div>
</section>
<section id="exam-data-1" class="slide level2 smaller">
<h2>Exam data</h2>
<p><strong>data.table</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>dt <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">"https://raw.githubusercontent.com/jinseob2kim/lecture-snuhlab/master/data/example_g1e.csv"</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a>dt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
   1:         2009  562083     200909            0             0            1
   2:         2009  334536     200911            0             0            0
   3:         2009  911867     200903            0             0            0
   4:         2009  183321     200908           NA            NA           NA
   5:         2009  942671     200909           NA            NA           NA
  ---                                                                        
1640:         2015  266734     201504           NA            NA           NA
1641:         2015  343874     201511            0             0            0
1642:         2015  798472     201507           NA            NA           NA
1643:         2015  720080     201505           NA            NA           NA
1644:         2015  127519     201511            0             0            1
      Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
   1:           0            0           NA        3        1              0
   2:           0            0           NA        2        1              0
   3:           0            0           NA        3        1              0
   4:          NA           NA           NA        3        1              0
   5:          NA           NA           NA        3        1              0
  ---                                                                       
1640:          NA           NA           NA        1        2              2
1641:           1            0            0        2        2              0
1642:          NA           NA           NA        3        2              0
1643:          NA            1           NA        2        2              1
1644:           0            0            0        3        2              4
      HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL
   1:  144   61   90 29.4   0.7   0.8    120     80        1 12.6 117      264
   2:  162   51   63 19.4   0.8   1.0    120     80        1 13.8  96      169
   3:  163   65   82 24.5   0.7   0.6    130     80        1 15.0 118      216
   4:  152   51   70 22.1   0.8   0.9    101     62        1 13.1  90      199
   5:  159   50   73 19.8   0.7   0.8    132     78        1 13.0  92      162
  ---                                                                         
1640:  171   76   88 26.0   1.2   1.2    125     89        1 14.1  77      363
1641:  179   80   88 25.0   1.0   0.7    126     83        1 14.9 119      106
1642:  163   63   80 23.7   1.5   1.5    118     77        1 16.1 160      271
1643:  165   70   92 25.7   0.6   0.8    120     80        1 13.6  81      289
1644:  168   84  103 29.8   0.9   0.8    140     85        1 15.2 134      210
       TG HDL LDL CRTN SGOT SGPT GGT GFR
   1: 128  60 179  0.9   25   20  25  59
   2:  92  70  80  0.9   18   15  28  74
   3: 132  55 134  0.8   26   30  30  79
   4: 100  65 114  0.9   18   14  11  61
   5:  58  40 111  0.9   24   23  15  49
  ---                                   
1640: 280  63 244  0.9   19   32  95  96
1641: 247  29  50  0.9  101  157  62  79
1642: 514  51 151  1.0   40   66 104  85
1643: 810  52  NA  1.0   37   33  76  86
1644: 298  56  94  1.1   55   49  66  66</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">class</span>(dt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.table" "data.frame"</code></pre>
</div>
</div>
</section>
<section id="row-operation" class="slide level2 smaller">
<h2>Row Operation</h2>
<p><strong>첫 번째</strong> 열부터 <strong>다섯 번째</strong> 열까지 선택</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>dt[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb11-2"><a href="#cb11-2"></a>dt[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
1:         2009  562083     200909            0             0            1
2:         2009  334536     200911            0             0            0
3:         2009  911867     200903            0             0            0
4:         2009  183321     200908           NA            NA           NA
5:         2009  942671     200909           NA            NA           NA
   Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N HGHT
1:           0            0           NA        3        1              0  144
2:           0            0           NA        2        1              0  162
3:           0            0           NA        3        1              0  163
4:          NA           NA           NA        3        1              0  152
5:          NA           NA           NA        3        1              0  159
   WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL  TG HDL
1:   61   90 29.4   0.7   0.8    120     80        1 12.6 117      264 128  60
2:   51   63 19.4   0.8   1.0    120     80        1 13.8  96      169  92  70
3:   65   82 24.5   0.7   0.6    130     80        1 15.0 118      216 132  55
4:   51   70 22.1   0.8   0.9    101     62        1 13.1  90      199 100  65
5:   50   73 19.8   0.7   0.8    132     78        1 13.0  92      162  58  40
   LDL CRTN SGOT SGPT GGT GFR
1: 179  0.9   25   20  25  59
2:  80  0.9   18   15  28  74
3: 134  0.8   26   30  30  79
4: 114  0.9   18   14  11  61
5: 111  0.9   24   23  15  49</code></pre>
</div>
</div>
</section>
<section id="row-operation-1" class="slide level2 smaller">
<h2>Row Operation</h2>
<p><strong>EXMD_BZ_YYYY가 2009년-2012년 사이</strong>이고 <strong>BMI가 25 이상</strong>인 행만 추출</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>dt[(EXMD_BZ_YYYY <span class="sc">%in%</span> <span class="dv">2009</span><span class="sc">:</span><span class="dv">2012</span>) <span class="sc">&amp;</span> (BMI <span class="sc">&gt;=</span> <span class="dv">25</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
  1:         2009  562083     200909            0             0            1
  2:         2009  318669     200904           NA            NA           NA
  3:         2009  668438     200904           NA            NA           NA
  4:         2009  560878     200903           NA            NA           NA
  5:         2009  375694     200906            0             0            1
 ---                                                                        
317:         2012  582044     201210            0             0            0
318:         2012  126561     201210            0             0            0
319:         2012  266734     201204           NA            NA           NA
320:         2012  942204     201209            0             0            0
321:         2012  637160     201209            0             0            0
     Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
  1:           0            0           NA        3        1              0
  2:          NA           NA           NA        2        1              0
  3:          NA           NA           NA        3        1              0
  4:          NA           NA           NA        2        1              0
  5:           1            1           NA        2        1              0
 ---                                                                       
317:           0            0            0        3        3              2
318:           0            0            0        2        3              1
319:          NA           NA           NA        1        3              1
320:           0            0            0        2        3              7
321:           0            0            0        3        3              3
     HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL
  1:  144   61   90 29.4   0.7   0.8    120     80        1 12.6 117      264
  2:  155   66   78 27.5   0.8   0.6     95     58        1 13.6 101      294
  3:  160   71   94 27.7   0.7   0.2    100     60        1 13.0 104      195
  4:  144   58   93 28.0   1.0   1.0    110     60        1 13.2  74      178
  5:  151   70   94 30.7   1.0   1.0    119     71        1 13.0 129      173
 ---                                                                         
317:  158   69   90 27.6   1.2   1.2    132     98        1 16.1  84      166
318:  183  103  108 30.8   1.2   1.2    139     89        1 16.6  83      175
319:  170   78   90 27.0   1.0   1.0    134     86        1 15.5  93      300
320:  176   86   91 27.8   1.0   1.5    128     76        1 16.4  94      179
321:  175   95  101 31.0   0.9   0.7    115     69        1 15.4 100      214
      TG HDL LDL CRTN SGOT SGPT GGT GFR
  1: 128  60 179  0.9   25   20  25  59
  2: 119  50 220  0.6   22   22  22 116
  3: 123  63 107  0.7   27   22  43  79
  4: 177  49  93  0.7   15   17   7  86
  5: 100  58  95  1.0   14   10  12  64
 ---                                   
317: 193  48  79  0.8   36   49  69 137
318: 264  44  78  0.9   40   74  68  98
319: 287  50 192  1.1   40   65  85  77
320: 158  47 100  0.9   48   48  95  98
321: 412  53 127  1.5   58   70  97  53</code></pre>
</div>
</div>
</section>
<section id="row-operation-2" class="slide level2 smaller">
<h2>Row Operation</h2>
<p><strong>HME_YYYYMM</strong>에 따라 <strong>오름차순</strong>으로 정렬</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>dt[<span class="fu">order</span>(HME_YYYYMM)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
   1:         2009  480569     200901            0             1            1
   2:         2009   79250     200901            0             0            0
   3:         2009  418137     200901            0             0            0
   4:         2009  669498     200902            0             0            0
   5:         2009  486441     200902            0             0            1
  ---                                                                        
1640:         2015  284267     201512           NA            NA           NA
1641:         2015  606125     201512           NA            NA           NA
1642:         2015  356551     201512            0             0            1
1643:         2015    4263     201512            0             0            0
1644:         2015  887943     201512           NA            NA           NA
      Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
   1:           0            0           NA        3        1              0
   2:           0            0           NA        1        1              0
   3:           0            0           NA       NA        2             NA
   4:           0            0           NA        2        2              1
   5:           0            0           NA        1        3              4
  ---                                                                       
1640:          NA           NA           NA        3        2              1
1641:           1           NA           NA        2        2              2
1642:           0            0            0        3        2              0
1643:           0            0            0        3        2              0
1644:          NA           NA           NA        2        2              1
      HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL
   1:  154   58   84 24.5   0.1   0.8    140     70        1 10.4  84      242
   2:  141   40   69 20.1   0.1   0.7    100     60        1 11.8  86      160
   3:  176   64   80 20.7   0.7   0.6    100     60        1 16.8  75      137
   4:  139   47   86 24.3   0.1   0.1    143     83        1 14.2 114      225
   5:  174   86   86 28.4   1.0   1.2    160    100        1 16.4  84      144
  ---                                                                         
1640:  174   69   82 22.8   1.2   1.5    119     73        1 15.3  97      205
1641:  171   87   98 29.8   0.8   1.5    130     88        1 15.3 134      235
1642:  166   73   89 26.5   1.0   1.0    139     77        1 13.4 110      223
1643:  174   67   79 22.1   1.5   1.2    115     70        1 13.6  86      217
1644:  173   81   89 27.1   1.5   1.5    120     80        1 15.1  65      197
       TG HDL LDL CRTN SGOT SGPT GGT GFR
   1: 134  53 162  1.1   15   10  10  37
   2: 144  37  94  0.6   14   16  11  59
   3:  54  48  78  0.9   17   15  17 105
   4: 189  53 134  0.5   49   55  32  73
   5: 180  44  64  1.1   42   65 174 104
  ---                                   
1640: 123  72 108  0.8   23    8  32 112
1641: 144  48 158  1.0   24   23  40  78
1642: 198  58 125  0.7   22   27  20 102
1643:  38  71 138  1.0   18   18  28  80
1644: 345  34  94  0.8   20   37  90 105</code></pre>
</div>
</div>
</section>
<section id="row-operation-3" class="slide level2 smaller">
<h2>Row Operation</h2>
<p>HME_YYYYMM은 오름차순으로, <strong>HGHT</strong>는 <strong>내림차순</strong>으로 정렬</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>dt[<span class="fu">order</span>(HME_YYYYMM, <span class="sc">-</span>HGHT)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
   1:         2009  418137     200901            0             0            0
   2:         2009  480569     200901            0             1            1
   3:         2009   79250     200901            0             0            0
   4:         2009  486441     200902            0             0            1
   5:         2009   26776     200902           NA            NA           NA
  ---                                                                        
1640:         2015  979090     201512            0             0            0
1641:         2015  181909     201512            0             0            1
1642:         2015  875758     201512           NA            NA           NA
1643:         2015  992522     201512            0             0            0
1644:         2015  975124     201512            0             0            1
      Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
   1:           0            0           NA       NA        2             NA
   2:           0            0           NA        3        1              0
   3:           0            0           NA        1        1              0
   4:           0            0           NA        1        3              4
   5:          NA           NA           NA        2        2              2
  ---                                                                       
1640:           0            0            0        2        1              0
1641:           0            0            0        2        1              0
1642:          NA           NA           NA        2        1              1
1643:           0            0            0        2        1              2
1644:           0            1            0        3        1              3
      HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL
   1:  176   64   80 20.7   0.7   0.6    100     60        1 16.8  75      137
   2:  154   58   84 24.5   0.1   0.8    140     70        1 10.4  84      242
   3:  141   40   69 20.1   0.1   0.7    100     60        1 11.8  86      160
   4:  174   86   86 28.4   1.0   1.2    160    100        1 16.4  84      144
   5:  172   78   86 26.4   0.8   1.0    118     73        1 15.6  86      189
  ---                                                                         
1640:  153   58   75 24.8   1.0   1.5    140     95        1 13.3  94      201
1641:  151   70   94 30.7   0.7   0.5    147     78        1 11.2  97      163
1642:  151   51   79 22.4   0.8   1.0    105     78        1 12.9  90      188
1643:  149   40   62 18.0   0.7   0.5    116     67        1  9.2  84      180
1644:  149   49   68 22.1   0.5   0.3    144     84        1 13.2  85      200
       TG HDL LDL CRTN SGOT SGPT GGT GFR
   1:  54  48  78  0.9   17   15  17 105
   2: 134  53 162  1.1   15   10  10  37
   3: 144  37  94  0.6   14   16  11  59
   4: 180  44  64  1.1   42   65 174 104
   5:  62  59 117  0.9   19   16  44 111
  ---                                   
1640: 109  69 110  0.9   20   17  21  71
1641: 105  63  79  0.6   22   18  13 101
1642:  47  51 127  0.6   20   17  13 112
1643:  81 105  59  0.7   27   19  29  95
1644: 154  66 100  0.8   25   15  18  75</code></pre>
</div>
</div>
</section>
<section id="row-operation-4" class="slide level2 smaller">
<h2>Row Operation</h2>
<p><strong>EXMD_BZ_YYYY가 2009년-2012년 사이</strong>이고 <strong>BMI가 25 이상</strong>인 행만 추출한 후</p>
<p><strong>HGHT</strong>에 따라 <strong>오름차순</strong>으로 정렬</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>dt[(EXMD_BZ_YYYY <span class="sc">%in%</span> <span class="dv">2009</span><span class="sc">:</span><span class="dv">2012</span>) <span class="sc">&amp;</span> (BMI <span class="sc">&gt;=</span> <span class="dv">25</span>)][<span class="fu">order</span>(HGHT)]</span>
<span id="cb19-2"><a href="#cb19-2"></a>dt[(EXMD_BZ_YYYY <span class="sc">%in%</span> <span class="dv">2009</span><span class="sc">:</span><span class="dv">2012</span>) <span class="sc">&amp;</span> (BMI <span class="sc">&gt;=</span> <span class="dv">25</span>)] <span class="sc">%&gt;%</span> .[<span class="fu">order</span>(HGHT)]   <span class="co"># same</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>     EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
  1:         2009  562083     200909            0             0            1
  2:         2009  560878     200903           NA            NA           NA
  3:         2011  562083     201111            0             0            1
  4:         2011  519824     201109           NA            NA           NA
  5:         2011  914987     201103            0             0            1
 ---                                                                        
317:         2011  550255     201104            0             0            0
318:         2009  115809     200905            0             0            0
319:         2010  115809     201006            0             0            0
320:         2011  115809     201109            0             0            0
321:         2012  115809     201209            0             0            0
     Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
  1:           0            0           NA        3        1              0
  2:          NA           NA           NA        2        1              0
  3:           0            0            0        2        1              0
  4:          NA           NA           NA        2        1              0
  5:           0            0            0        3        1              2
 ---                                                                       
317:           0            0            0        2        3              1
318:           0            0           NA        3        3              2
319:           0            0            0        3        3              1
320:           0            0            0        3        3              1
321:           0            0            0        3        3              1
     HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL
  1:  144   61   90 29.4   0.7   0.8    120     80        1 12.6 117      264
  2:  144   58   93 28.0   1.0   1.0    110     60        1 13.2  74      178
  3:  144   59   88 28.5   0.6   0.7    148     81        1 12.0 109      242
  4:  145   58   79 27.6   0.8   0.5    144     91        3 13.9 107      300
  5:  145   70   95 33.3   0.5   0.5    130     69        1  8.0 107      183
 ---                                                                         
317:  184   94   94 27.8   0.9   0.7    140    100        1 16.0 100      277
318:  186  110  111 31.8   0.9   1.0    125     90        1 13.2 109      202
319:  186  114  111 33.0   0.8   0.9    130     80        1 14.6  90      194
320:  188  114  104 32.3   0.7   1.0    139     83        1 14.9  86      189
321:  188  111  107 31.4   0.6   0.9    130     82        1 14.9  93      172
      TG HDL LDL CRTN SGOT SGPT GGT GFR
  1: 128  60 179  0.9   25   20  25  59
  2: 177  49  93  0.7   15   17   7  86
  3: 178  67 139  0.9   30   34  28  NA
  4: 427  43  NA  0.5   31   32  36  NA
  5: 104  54 108  0.9   22   17  33  NA
 ---                                   
317: 285  51 188  1.1   16    8  58  NA
318: 150  52 120  1.1   39   18  34 147
319: 297  32 103  1.0   22   13  32  NA
320: 151  46 113  0.9   31   20  36  NA
321:  63  49 110  0.9   33   17  38 100</code></pre>
</div>
</div>
</section>
<section id="column-operation" class="slide level2 smaller">
<h2>Column Operation</h2>
<p><strong>첫 번째 열</strong>부터 <strong>다섯 번째 열</strong>까지 추출</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>dt[, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ
   1:         2009  562083     200909            0             0
   2:         2009  334536     200911            0             0
   3:         2009  911867     200903            0             0
   4:         2009  183321     200908           NA            NA
   5:         2009  942671     200909           NA            NA
  ---                                                           
1640:         2015  266734     201504           NA            NA
1641:         2015  343874     201511            0             0
1642:         2015  798472     201507           NA            NA
1643:         2015  720080     201505           NA            NA
1644:         2015  127519     201511            0             0</code></pre>
</div>
</div>
</section>
<section id="column-operation-1" class="slide level2 smaller">
<h2>Column Operation</h2>
<p><strong>HGHT 열</strong>과 <strong>WGHT 열</strong>만 추출</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>dt[, <span class="fu">c</span>(<span class="st">"HGHT"</span>, <span class="st">"WGHT"</span>)]</span>
<span id="cb23-2"><a href="#cb23-2"></a>dt[, .(HGHT, WGHT)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>      HGHT WGHT
   1:  144   61
   2:  162   51
   3:  163   65
   4:  152   51
   5:  159   50
  ---          
1640:  171   76
1641:  179   80
1642:  163   63
1643:  165   70
1644:  168   84</code></pre>
</div>
</div>
</section>
<section id="column-operation-2" class="slide level2 smaller">
<h2>Column Operation</h2>
<p>HGHT 열을 Height로, WGHT 열을 Weight로 <strong>이름을 바꿔서</strong> 추출</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>dt[, .(<span class="at">Height =</span> HGHT, <span class="at">Weight =</span> WGHT)]   <span class="co"># rename</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Height Weight
   1:    144     61
   2:    162     51
   3:    163     65
   4:    152     51
   5:    159     50
  ---              
1640:    171     76
1641:    179     80
1642:    163     63
1643:    165     70
1644:    168     84</code></pre>
</div>
</div>
</section>
<section id="column-operation-3" class="slide level2 smaller">
<h2>Column Operation</h2>
<p><strong>data.table 형식</strong>으로 추출</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>dt[, .(HGHT)]</span>
<span id="cb27-2"><a href="#cb27-2"></a>dt[, <span class="st">"HGHT"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>      HGHT
   1:  144
   2:  162
   3:  163
   4:  152
   5:  159
  ---     
1640:  171
1641:  179
1642:  163
1643:  165
1644:  168</code></pre>
</div>
</div>
</section>
<section id="column-operation-4" class="slide level2 smaller">
<h2>Column Operation</h2>
<p><strong>vector 형식</strong>으로 추출</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>dt[, HGHT]   <span class="co"># vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   [1] 144 162 163 152 159 157 160 159 156 146 164 154 155 155 165 180 149 160
  [19] 162 154 144 155 151 158 165 160 154 177 156 145 156 165 172 148 148 158
  [37] 158 162 168 164 158 169 160 157 173 163 151 156 154 141 160 163 170 149
  [55] 144 145 163 154 160 169 170 151 152 175 160 157 139 163 148 166 165 150
  [73] 157 150 161 158 171 166 165 166 165 166 169 156 170 171 179 159 147 159
  [91] 173 162 150 157 159 175 161 172 159 167 176 170 167 166 165 178 169 172
 [109] 161 164 166 150 158 165 159 155 170 154 164 170 160 173 159 150 151 164
 [127] 162 178 176 165 169 163 181 180 170 180 186 167 175 169 176 172 167 180
 [145] 160 171 170 159 182 181 172 160 172 165 173 165 180 184 163 165 170 162
 [163] 160 176 168 170 176 171 161 173 171 172 174 173 165 173 170 150 166 169
 [181] 162 163 167 172 174 172 164 166 166 166 174 176 161 164 159 165 161 167
 [199] 179 164 172 176 164 174 159 174 169 167 170 176 163 159 175 165 172 160
 [217] 170 156 157 151 160 157 164 162 156 166 166 162 147 163 160 163 168 155
 [235] 172 159 163 151 157 153 154 164 160 176 166 173 164 164 171 166 140 139
 [253] 156 178 150 170 155 166 163 159 168 157 166 151 160 145 150 168 160 158
 [271] 166 147 164 158 165 151 155 156 159 155 161 159 180 152 167 172 148 161
 [289] 171 156 160 165 166 163 154 164 172 161 149 160 164 178 164 164 160 170
 [307] 172 150 159 167 159 158 160 165 158 159 164 160 170 153 169 153 162 151
 [325] 164 170 165 157 150 175 157 160 162 159 167 160 152 169 177 160 155 169
 [343] 157 167 162 155 172 172 165 171 177 170 160 173 164 171 182 159 180 176
 [361] 174 168 165 173 172 164 167 161 173 167 179 176 167 171 163 163 168 175
 [379] 176 186 162 183 184 181 174 161 175 164 159 171 177 166 151 172 180 169
 [397] 178 170 183 177 172 171 174 163 171 174 179 162 165 166 174 159 166 163
 [415] 175 172 164 180 168 177 162 173 170 155 171 166 174 179 163 153 169 177
 [433] 168 168 172 172 175 167 171 172 167 162 166 174 154 144 168 173 163 181
 [451] 144 169 151 165 161 146 160 156 159 160 150 172 156 152 153 139 154 166
 [469] 154 170 154 152 150 171 153 162 159 157 155 152 147 160 168 169 158 156
 [487] 178 168 157 153 152 159 163 163 156 161 163 151 152 152 134 178 160 157
 [505] 155 155 155 164 168 176 168 164 160 160 154 145 144 157 156 160 145 167
 [523] 157 157 159 157 146 165 150 154 167 159 164 161 155 155 179 158 149 157
 [541] 163 163 164 166 163 160 165 163 151 167 155 171 165 172 157 158 170 158
 [559] 169 157 171 169 145 159 156 158 175 146 155 154 169 170 149 154 167 170
 [577] 165 166 166 172 158 164 166 179 170 174 164 170 176 160 156 162 164 170
 [595] 175 168 172 167 166 171 178 168 175 178 175 166 174 174 165 169 164 171
 [613] 171 168 165 169 170 179 173 172 166 163 176 171 175 157 168 161 181 185
 [631] 171 179 165 164 179 182 169 170 169 153 174 173 172 172 169 174 171 173
 [649] 188 163 170 177 176 170 174 180 172 173 180 176 161 167 177 178 165 170
 [667] 182 162 172 173 184 163 182 145 159 163 159 147 151 153 172 140 176 183
 [685] 158 161 158 174 159 161 146 168 151 156 170 166 160 162 149 150 169 155
 [703] 163 167 161 160 158 156 163 149 157 157 164 154 155 160 145 153 158 162
 [721] 170 167 156 164 174 156 158 151 162 160 165 166 175 148 166 158 169 168
 [739] 156 177 152 164 164 163 147 166 160 153 153 144 155 158 151 162 163 159
 [757] 174 166 148 162 156 156 163 175 167 177 161 163 159 161 158 155 161 155
 [775] 169 165 164 166 148 161 178 149 160 154 158 150 172 177 160 169 160 164
 [793] 160 173 157 159 173 164 161 180 169 167 169 160 176 170 173 163 170 164
 [811] 165 156 160 177 168 170 170 175 145 171 169 172 174 177 160 170 167 167
 [829] 166 172 172 162 172 180 165 169 172 179 172 169 167 160 175 172 167 163
 [847] 165 166 172 163 164 156 163 178 179 181 167 176 176 166 171 180 170 176
 [865] 151 157 161 171 183 172 177 183 174 181 180 165 177 174 179 170 181 182
 [883] 178 178 162 175 188 172 174 172 165 162 163 161 170 170 158 183 161 170
 [901] 159 176 162 166 172 173 175 159 159 158 165 149 156 170 166 164 150 158
 [919] 152 153 158 162 153 167 178 159 147 160 168 148 150 169 154 146 139 146
 [937] 156 154 159 158 162 162 164 150 148 164 143 156 157 155 171 158 157 156
 [955] 169 160 174 153 161 153 157 169 154 163 164 169 153 159 152 155 162 178
 [973] 163 170 162 155 156 158 155 154 164 168 165 159 160 174 161 164 164 174
 [991] 166 161 155 165 163 180 156 151 156 151 160 167 160 180 157 158 163 166
[1009] 168 160 157 145 156 160 165 155 171 161 153 159 175 157 178 163 160 165
[1027] 171 149 170 160 160 163 152 173 156 164 176 162 150 159 169 168 160 166
[1045] 177 179 183 165 169 168 166 166 180 178 171 164 183 174 158 168 172 169
[1063] 174 169 167 174 171 173 169 179 169 178 171 162 169 167 173 172 167 173
[1081] 165 174 172 181 163 169 164 160 159 183 175 168 174 165 173 171 172 171
[1099] 181 180 160 177 177 165 167 181 183 173 170 162 162 171 171 177 182 169
[1117] 170 172 172 170 170 164 164 179 175 176 175 167 172 169 168 165 186 171
[1135] 166 172 166 172 172 162 157 176 166 162 175 175 159 162 170 167 159 156
[1153] 160 151 154 159 154 147 163 162 172 151 165 144 162 151 152 161 150 167
[1171] 157 158 157 155 157 158 165 153 160 168 159 164 149 163 149 151 158 155
[1189] 165 146 168 164 140 148 157 156 167 136 162 156 157 159 154 159 163 156
[1207] 168 161 162 158 149 150 155 172 170 162 160 152 160 167 165 160 155 153
[1225] 153 167 162 167 163 152 168 164 165 156 169 160 159 154 158 163 170 164
[1243] 149 159 169 161 163 157 164 153 167 177 163 164 153 161 160 163 168 160
[1261] 167 156 164 177 178 165 166 160 154 158 148 180 170 145 171 176 147 155
[1279] 153 155 165 151 164 169 175 156 149 178 177 169 149 156 161 152 175 172
[1297] 168 146 179 168 159 162 160 170 158 159 159 168 180 162 169 166 158 171
[1315] 165 173 169 169 164 174 177 166 166 180 172 166 163 155 173 170 175 165
[1333] 165 175 174 174 174 177 179 170 169 172 162 163 162 173 177 160 185 169
[1351] 172 176 176 163 180 176 175 162 168 149 173 171 172 166 176 171 168 177
[1369] 181 160 172 171 179 172 183 178 169 165 183 168 176 162 174 181 158 175
[1387] 175 164 162 180 180 178 180 174 176 162 173 162 173 170 184 179 176 171
[1405] 161 155 163 153 162 162 151 153 161 141 178 153 163 157 154 151 154 159
[1423] 151 166 168 152 145 159 159 145 164 154 159 160 153 153 161 158 169 157
[1441] 162 155 164 162 163 158 160 157 161 152 160 164 170 164 158 155 153 170
[1459] 153 161 155 159 163 168 148 158 156 179 159 156 162 174 167 138 169 169
[1477] 145 181 166 152 158 160 159 178 163 150 168 161 144 169 171 159 153 172
[1495] 165 166 168 165 167 157 152 149 151 156 177 166 156 151 154 164 165 160
[1513] 163 162 170 178 163 165 163 181 158 164 162 156 166 169 159 145 167 163
[1531] 161 160 172 158 164 149 169 172 175 149 166 159 149 166 155 138 160 167
[1549] 180 144 158 174 165 155 162 179 176 176 178 172 181 165 182 161 169 182
[1567] 168 172 177 185 174 172 174 169 160 177 179 171 175 180 179 164 158 170
[1585] 175 176 161 183 169 178 168 173 176 171 173 172 182 171 174 173 173 164
[1603] 173 171 167 170 173 178 165 175 153 168 170 160 157 162 174 173 182 161
[1621] 163 172 166 167 174 163 171 170 160 172 167 166 174 181 175 170 171 180
[1639] 173 171 179 163 165 168</code></pre>
</div>
</div>
</section>
<section id="column-operation-5" class="slide level2 smaller">
<h2>Column Operation</h2>
<p><strong>변수</strong>로 열 이름 선택</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>colvars <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"Q_"</span>, <span class="fu">names</span>(dt), <span class="at">value =</span> T)</span>
<span id="cb31-2"><a href="#cb31-2"></a>colvars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Q_PHX_DX_STK"   "Q_PHX_DX_HTDZ"  "Q_PHX_DX_HTN"   "Q_PHX_DX_DM"   
[5] "Q_PHX_DX_DLD"   "Q_PHX_DX_PTB"   "Q_HBV_AG"       "Q_SMK_YN"      
[9] "Q_DRK_FRQ_V09N"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>dt[, ..colvars]</span>
<span id="cb33-2"><a href="#cb33-2"></a>dt[, colvars, with <span class="ot">=</span> F]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>      Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN Q_PHX_DX_DM Q_PHX_DX_DLD
   1:            0             0            1           0            0
   2:            0             0            0           0            0
   3:            0             0            0           0            0
   4:           NA            NA           NA          NA           NA
   5:           NA            NA           NA          NA           NA
  ---                                                                 
1640:           NA            NA           NA          NA           NA
1641:            0             0            0           1            0
1642:           NA            NA           NA          NA           NA
1643:           NA            NA           NA          NA            1
1644:            0             0            1           0            0
      Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
   1:           NA        3        1              0
   2:           NA        2        1              0
   3:           NA        3        1              0
   4:           NA        3        1              0
   5:           NA        3        1              0
  ---                                              
1640:           NA        1        2              2
1641:            0        2        2              0
1642:           NA        3        2              0
1643:           NA        2        2              1
1644:            0        3        2              4</code></pre>
</div>
</div>
</section>
<section id="column-operation-6" class="slide level2 smaller">
<h2>Column Operation</h2>
<p><strong>.SD</strong>: Subset of Data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>dt[, .SD, .SDcols <span class="ot">=</span> colvars]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN Q_PHX_DX_DM Q_PHX_DX_DLD
   1:            0             0            1           0            0
   2:            0             0            0           0            0
   3:            0             0            0           0            0
   4:           NA            NA           NA          NA           NA
   5:           NA            NA           NA          NA           NA
  ---                                                                 
1640:           NA            NA           NA          NA           NA
1641:            0             0            0           1            0
1642:           NA            NA           NA          NA           NA
1643:           NA            NA           NA          NA            1
1644:            0             0            1           0            0
      Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
   1:           NA        3        1              0
   2:           NA        2        1              0
   3:           NA        3        1              0
   4:           NA        3        1              0
   5:           NA        3        1              0
  ---                                              
1640:           NA        1        2              2
1641:            0        2        2              0
1642:           NA        3        2              0
1643:           NA        2        2              1
1644:            0        3        2              4</code></pre>
</div>
</div>
</section>
<section id="column-operation-7" class="slide level2 smaller">
<h2>Column Operation</h2>
<p><strong>EXMD_BZ_YYYY가 2009년-2012년 사이</strong>이고 <strong>BMI가 25 이상</strong>인 행 중 <strong>colvars</strong> 열만 추출</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>dt[(EXMD_BZ_YYYY <span class="sc">%in%</span> <span class="dv">2009</span><span class="sc">:</span><span class="dv">2012</span>) <span class="sc">&amp;</span> (BMI <span class="sc">&gt;=</span> <span class="dv">25</span>), ..colvars]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN Q_PHX_DX_DM Q_PHX_DX_DLD
  1:            0             0            1           0            0
  2:           NA            NA           NA          NA           NA
  3:           NA            NA           NA          NA           NA
  4:           NA            NA           NA          NA           NA
  5:            0             0            1           1            1
 ---                                                                 
317:            0             0            0           0            0
318:            0             0            0           0            0
319:           NA            NA           NA          NA           NA
320:            0             0            0           0            0
321:            0             0            0           0            0
     Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
  1:           NA        3        1              0
  2:           NA        2        1              0
  3:           NA        3        1              0
  4:           NA        2        1              0
  5:           NA        2        1              0
 ---                                              
317:            0        3        3              2
318:            0        2        3              1
319:           NA        1        3              1
320:            0        2        3              7
321:            0        3        3              3</code></pre>
</div>
</div>
</section>
<section id="column-operation-8" class="slide level2 smaller">
<h2>Column Operation</h2>
<p><strong>colvars</strong> 열 제외</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>dt[, <span class="sc">!</span>..colvars]</span>
<span id="cb39-2"><a href="#cb39-2"></a>dt[, <span class="sc">-</span>..colvars]</span>
<span id="cb39-3"><a href="#cb39-3"></a>dt[, .SD, .SDcols <span class="ot">=</span> <span class="sc">-</span>colvars]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS
   1:         2009  562083     200909  144   61   90 29.4   0.7   0.8    120
   2:         2009  334536     200911  162   51   63 19.4   0.8   1.0    120
   3:         2009  911867     200903  163   65   82 24.5   0.7   0.6    130
   4:         2009  183321     200908  152   51   70 22.1   0.8   0.9    101
   5:         2009  942671     200909  159   50   73 19.8   0.7   0.8    132
  ---                                                                       
1640:         2015  266734     201504  171   76   88 26.0   1.2   1.2    125
1641:         2015  343874     201511  179   80   88 25.0   1.0   0.7    126
1642:         2015  798472     201507  163   63   80 23.7   1.5   1.5    118
1643:         2015  720080     201505  165   70   92 25.7   0.6   0.8    120
1644:         2015  127519     201511  168   84  103 29.8   0.9   0.8    140
      BP_DIA URN_PROT  HGB FBS TOT_CHOL  TG HDL LDL CRTN SGOT SGPT GGT GFR
   1:     80        1 12.6 117      264 128  60 179  0.9   25   20  25  59
   2:     80        1 13.8  96      169  92  70  80  0.9   18   15  28  74
   3:     80        1 15.0 118      216 132  55 134  0.8   26   30  30  79
   4:     62        1 13.1  90      199 100  65 114  0.9   18   14  11  61
   5:     78        1 13.0  92      162  58  40 111  0.9   24   23  15  49
  ---                                                                     
1640:     89        1 14.1  77      363 280  63 244  0.9   19   32  95  96
1641:     83        1 14.9 119      106 247  29  50  0.9  101  157  62  79
1642:     77        1 16.1 160      271 514  51 151  1.0   40   66 104  85
1643:     80        1 13.6  81      289 810  52  NA  1.0   37   33  76  86
1644:     85        1 15.2 134      210 298  56  94  1.1   55   49  66  66</code></pre>
</div>
</div>
</section>
<section id="column-summary" class="slide level2 smaller">
<h2>Column Summary</h2>
<p>HGHT의 평균, WGHT의 평균, BMI의 평균</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>dt[, .(<span class="fu">mean</span>(HGHT), <span class="fu">mean</span>(WGHT), <span class="fu">mean</span>(BMI))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         V1       V2       V3
1: 164.5487 65.09672 23.92257</code></pre>
</div>
</div>
</section>
<section id="column-summary-1" class="slide level2 smaller">
<h2>Column Summary</h2>
<p>HGHT의 평균, WGHT의 평균, BMI의 평균을 이름 지정해서 출력</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>dt[, .(<span class="at">HGHT =</span> <span class="fu">mean</span>(HGHT), <span class="at">WGHT =</span> <span class="fu">mean</span>(WGHT), <span class="at">BMI =</span> <span class="fu">mean</span>(BMI))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       HGHT     WGHT      BMI
1: 164.5487 65.09672 23.92257</code></pre>
</div>
</div>
</section>
<section id="column-summary-2" class="slide level2 smaller">
<h2>Column Summary</h2>
<p>lapply로 HGHT, WGHT, BMI에 <strong>한번에</strong> mean 함수 적용</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>dt[, <span class="fu">lapply</span>(.SD, mean), .SDcols <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"HGHT"</span>, <span class="st">"WGHT"</span>, <span class="st">"BMI"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       HGHT     WGHT      BMI
1: 164.5487 65.09672 23.92257</code></pre>
</div>
</div>
</section>
<section id="by-operation" class="slide level2 smaller">
<h2>By Operation</h2>
<p>EXMD_BZ_YYYY으로 <strong>그룹화</strong>하여 HGHT의 평균, WGHT의 평균, BMI의 평균 구하기</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>dt[, .(<span class="at">HGHT =</span> <span class="fu">mean</span>(HGHT), <span class="at">WGHT =</span> <span class="fu">mean</span>(WGHT), <span class="at">BMI =</span> <span class="fu">mean</span>(BMI)), by <span class="ot">=</span> EXMD_BZ_YYYY]</span>
<span id="cb47-2"><a href="#cb47-2"></a>dt[, .(<span class="at">HGHT =</span> <span class="fu">mean</span>(HGHT), <span class="at">WGHT =</span> <span class="fu">mean</span>(WGHT), <span class="at">BMI =</span> <span class="fu">mean</span>(BMI)), by <span class="ot">=</span> <span class="st">"EXMD_BZ_YYYY"</span>]</span>
<span id="cb47-3"><a href="#cb47-3"></a>dt[, <span class="fu">lapply</span>(.SD, mean), .SDcols <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"HGHT"</span>, <span class="st">"WGHT"</span>, <span class="st">"BMI"</span>), by <span class="ot">=</span> EXMD_BZ_YYYY]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   EXMD_BZ_YYYY     HGHT     WGHT      BMI
1:         2009 164.0841 64.32710 23.76402
2:         2010 164.9280 65.13983 23.82712
3:         2011 164.1480 64.89686 23.96009
4:         2012 164.9188 65.82051 24.08932
5:         2013 164.9095 64.90535 23.75391
6:         2014 164.3189 64.47244 23.78031
7:         2015 164.4792 66.07500 24.28167</code></pre>
</div>
</div>
</section>
<section id="by-operation-1" class="slide level2 smaller">
<h2>By Operation</h2>
<p>HGHT가 175 이상인 데이터를 EXMD_BZ_YYYY, Q_SMK_YN으로 <strong>그룹화</strong>하여 개수 구함</p>
<p><strong>.N</strong>: length()</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>dt[HGHT <span class="sc">&gt;=</span> <span class="dv">175</span>, .N, by <span class="ot">=</span> .(EXMD_BZ_YYYY, Q_SMK_YN)]</span>
<span id="cb49-2"><a href="#cb49-2"></a>dt[HGHT <span class="sc">&gt;=</span> <span class="dv">175</span>, .N, by <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"Q_SMK_YN"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    EXMD_BZ_YYYY Q_SMK_YN  N
 1:         2009        1  7
 2:         2009       NA  1
 3:         2009        3 14
 4:         2009        2  5
 5:         2010        1  6
 6:         2010        3 19
 7:         2010        2  7
 8:         2011        1  7
 9:         2011        2  8
10:         2011        3 16
11:         2012        1 12
12:         2012        2  6
13:         2012        3 21
14:         2013        1 10
15:         2013        3 16
16:         2013        2  8
17:         2014        1 10
18:         2014        2  7
19:         2014        3 26
20:         2015        1 12
21:         2015        3 18
22:         2015        2  6
    EXMD_BZ_YYYY Q_SMK_YN  N</code></pre>
</div>
</div>
</section>
<section id="by-operation-2" class="slide level2 smaller">
<h2>By Operation</h2>
<p>keyby를 통해 <strong>정렬</strong>할 수 있음</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>dt[HGHT <span class="sc">&gt;=</span> <span class="dv">175</span>, .N, keyby <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"Q_SMK_YN"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    EXMD_BZ_YYYY Q_SMK_YN  N
 1:         2009       NA  1
 2:         2009        1  7
 3:         2009        2  5
 4:         2009        3 14
 5:         2010        1  6
 6:         2010        2  7
 7:         2010        3 19
 8:         2011        1  7
 9:         2011        2  8
10:         2011        3 16
11:         2012        1 12
12:         2012        2  6
13:         2012        3 21
14:         2013        1 10
15:         2013        2  8
16:         2013        3 16
17:         2014        1 10
18:         2014        2  7
19:         2014        3 26
20:         2015        1 12
21:         2015        2  6
22:         2015        3 18
    EXMD_BZ_YYYY Q_SMK_YN  N</code></pre>
</div>
</div>
</section>
<section id="by-operation-3" class="slide level2 smaller">
<h2>By Operation</h2>
<p><strong>조건</strong>으로 그룹화할 수도 있음</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>dt[HGHT <span class="sc">&gt;=</span> <span class="dv">175</span>, .N, keyby<span class="ot">=</span> .(EXMD_BZ_YYYY <span class="sc">&gt;=</span> <span class="dv">2015</span>, Q_PHX_DX_STK <span class="sc">==</span> <span class="dv">1</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EXMD_BZ_YYYY Q_PHX_DX_STK   N
1:        FALSE           NA  50
2:        FALSE        FALSE 156
3:         TRUE           NA   6
4:         TRUE        FALSE  30</code></pre>
</div>
</div>
</section>
<section id="by-operation-4" class="slide level2 smaller">
<h2>By Operation</h2>
<p><strong>조건</strong>으로 그룹화할 수도 있음</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>dt[HGHT <span class="sc">&gt;=</span> <span class="dv">175</span>, .N, keyby<span class="ot">=</span> .(<span class="fu">get</span>(<span class="st">"EXMD_BZ_YYYY"</span>) <span class="sc">&gt;=</span> <span class="dv">2015</span>, <span class="fu">get</span>(<span class="st">"Q_PHX_DX_STK"</span>) <span class="sc">==</span> <span class="dv">1</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     get get.1   N
1: FALSE    NA  50
2: FALSE FALSE 156
3:  TRUE    NA   6
4:  TRUE FALSE  30</code></pre>
</div>
</div>
</section>
<section id="by-operation-5" class="slide level2 smaller">
<h2>By Operation</h2>
<p><strong>조건</strong>으로 그룹화할 수도 있음</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>dt[HGHT <span class="sc">&gt;=</span> <span class="dv">175</span>, .N, keyby<span class="ot">=</span> .(<span class="at">Y2015 =</span> <span class="fu">ifelse</span>(EXMD_BZ_YYYY <span class="sc">&gt;=</span> <span class="dv">2015</span>, <span class="st">"&gt;=2015"</span>, <span class="st">"&lt;2015"</span>))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Y2015   N
1:  &lt;2015 206
2: &gt;=2015  36</code></pre>
</div>
</div>
</section>
<section id="merge" class="slide level2 smaller">
<h2>Merge</h2>
<p>예시 데이터</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>dt1 <span class="ot">&lt;-</span> dt[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, .SD, .SDcols <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"RN_INDI"</span>, <span class="st">"HME_YYYYMM"</span>, colvars)]</span>
<span id="cb59-2"><a href="#cb59-2"></a>dt1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
 1:         2009  562083     200909            0             0            1
 2:         2009  334536     200911            0             0            0
 3:         2009  911867     200903            0             0            0
 4:         2009  183321     200908           NA            NA           NA
 5:         2009  942671     200909           NA            NA           NA
 6:         2009  979358     200912           NA            NA           NA
 7:         2009  554112     200911           NA            NA           NA
 8:         2009  487160     200908           NA            NA           NA
 9:         2009  793017     200906           NA            NA           NA
10:         2009  219397     200912            0             0            1
    Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
 1:           0            0           NA        3        1              0
 2:           0            0           NA        2        1              0
 3:           0            0           NA        3        1              0
 4:          NA           NA           NA        3        1              0
 5:          NA           NA           NA        3        1              0
 6:          NA           NA           NA        2        1              0
 7:          NA           NA           NA        2        1              0
 8:          NA           NA           NA        3        1              0
 9:          NA           NA           NA        3        1              0
10:           0            0           NA        3        1              0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>dt2 <span class="ot">&lt;-</span> dt[<span class="dv">6</span><span class="sc">:</span><span class="dv">15</span>, <span class="sc">-</span>..colvars]</span>
<span id="cb61-2"><a href="#cb61-2"></a>dt2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    EXMD_BZ_YYYY RN_INDI HME_YYYYMM HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS
 1:         2009  979358     200912  157   55   73 22.3   1.5   1.5    110
 2:         2009  554112     200911  160   56   67 21.9   1.5   1.5    119
 3:         2009  487160     200908  159   54   66 21.4   1.2   1.5    111
 4:         2009  793017     200906  156   53   67 21.8   1.2   1.0    138
 5:         2009  219397     200912  146   48   78 22.5   1.5   1.5    138
 6:         2009  831349     200912  164   66   85 24.5   1.2   1.0    130
 7:         2009  480569     200901  154   58   84 24.5   0.1   0.8    140
 8:         2009  559370     200912  155   51   75 21.2   1.0   1.0     93
 9:         2009  318669     200904  155   66   78 27.5   0.8   0.6     95
10:         2009  395781     200907  165   60   71 22.0   0.6   0.4    120
    BP_DIA URN_PROT  HGB FBS TOT_CHOL  TG HDL LDL CRTN SGOT SGPT GGT GFR
 1:     70        1 11.9 100      192 109  53 117  0.7   15   12  14  83
 2:     78        1 11.2  84      152  38  43 101  0.8    8    6  10  97
 3:     60        1 12.2  88      166  42  58  99  1.0   16   11  12  65
 4:     72        1 11.0  74      155  86  52  85  0.6   15   13  13  96
 5:     84        1 12.8 107      178  87  35 125  0.7   21   21  23  70
 6:     90        1 16.3 108      209  57  59 138  0.8   32   38  16  98
 7:     70        1 10.4  84      242 134  53 162  1.1   15   10  10  37
 8:     53        1 11.1  92      212  44  69 134  1.0   20   10  10  59
 9:     58        1 13.6 101      294 119  50 220  0.6   22   22  22 116
10:     70        1 15.3  85      237 112  56 158  1.0   24   20  18  70</code></pre>
</div>
</div>
</section>
<section id="merge-1" class="slide level2 smaller">
<h2>Merge</h2>

<img src="join.jpg" class="r-stretch"></section>
<section id="merge-2" class="slide level2 smaller">
<h2>Merge</h2>
<p><strong>Full join</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="fu">merge</span>(dt1, dt2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"RN_INDI"</span>, <span class="st">"HME_YYYYMM"</span>), <span class="at">all =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
 1:         2009  183321     200908           NA            NA           NA
 2:         2009  219397     200912            0             0            1
 3:         2009  318669     200904           NA            NA           NA
 4:         2009  334536     200911            0             0            0
 5:         2009  395781     200907           NA            NA           NA
 6:         2009  480569     200901           NA            NA           NA
 7:         2009  487160     200908           NA            NA           NA
 8:         2009  554112     200911           NA            NA           NA
 9:         2009  559370     200912           NA            NA           NA
10:         2009  562083     200909            0             0            1
11:         2009  793017     200906           NA            NA           NA
12:         2009  831349     200912           NA            NA           NA
13:         2009  911867     200903            0             0            0
14:         2009  942671     200909           NA            NA           NA
15:         2009  979358     200912           NA            NA           NA
    Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N HGHT
 1:          NA           NA           NA        3        1              0   NA
 2:           0            0           NA        3        1              0  146
 3:          NA           NA           NA       NA       NA             NA  155
 4:           0            0           NA        2        1              0   NA
 5:          NA           NA           NA       NA       NA             NA  165
 6:          NA           NA           NA       NA       NA             NA  154
 7:          NA           NA           NA        3        1              0  159
 8:          NA           NA           NA        2        1              0  160
 9:          NA           NA           NA       NA       NA             NA  155
10:           0            0           NA        3        1              0   NA
11:          NA           NA           NA        3        1              0  156
12:          NA           NA           NA       NA       NA             NA  164
13:           0            0           NA        3        1              0   NA
14:          NA           NA           NA        3        1              0   NA
15:          NA           NA           NA        2        1              0  157
    WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL  TG HDL
 1:   NA   NA   NA    NA    NA     NA     NA       NA   NA  NA       NA  NA  NA
 2:   48   78 22.5   1.5   1.5    138     84        1 12.8 107      178  87  35
 3:   66   78 27.5   0.8   0.6     95     58        1 13.6 101      294 119  50
 4:   NA   NA   NA    NA    NA     NA     NA       NA   NA  NA       NA  NA  NA
 5:   60   71 22.0   0.6   0.4    120     70        1 15.3  85      237 112  56
 6:   58   84 24.5   0.1   0.8    140     70        1 10.4  84      242 134  53
 7:   54   66 21.4   1.2   1.5    111     60        1 12.2  88      166  42  58
 8:   56   67 21.9   1.5   1.5    119     78        1 11.2  84      152  38  43
 9:   51   75 21.2   1.0   1.0     93     53        1 11.1  92      212  44  69
10:   NA   NA   NA    NA    NA     NA     NA       NA   NA  NA       NA  NA  NA
11:   53   67 21.8   1.2   1.0    138     72        1 11.0  74      155  86  52
12:   66   85 24.5   1.2   1.0    130     90        1 16.3 108      209  57  59
13:   NA   NA   NA    NA    NA     NA     NA       NA   NA  NA       NA  NA  NA
14:   NA   NA   NA    NA    NA     NA     NA       NA   NA  NA       NA  NA  NA
15:   55   73 22.3   1.5   1.5    110     70        1 11.9 100      192 109  53
    LDL CRTN SGOT SGPT GGT GFR
 1:  NA   NA   NA   NA  NA  NA
 2: 125  0.7   21   21  23  70
 3: 220  0.6   22   22  22 116
 4:  NA   NA   NA   NA  NA  NA
 5: 158  1.0   24   20  18  70
 6: 162  1.1   15   10  10  37
 7:  99  1.0   16   11  12  65
 8: 101  0.8    8    6  10  97
 9: 134  1.0   20   10  10  59
10:  NA   NA   NA   NA  NA  NA
11:  85  0.6   15   13  13  96
12: 138  0.8   32   38  16  98
13:  NA   NA   NA   NA  NA  NA
14:  NA   NA   NA   NA  NA  NA
15: 117  0.7   15   12  14  83</code></pre>
</div>
</div>
</section>
<section id="merge-3" class="slide level2 smaller">
<h2>Merge</h2>
<p><strong>Inner join</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="fu">merge</span>(dt1, dt2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"RN_INDI"</span>, <span class="st">"HME_YYYYMM"</span>), <span class="at">all =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
1:         2009  219397     200912            0             0            1
2:         2009  487160     200908           NA            NA           NA
3:         2009  554112     200911           NA            NA           NA
4:         2009  793017     200906           NA            NA           NA
5:         2009  979358     200912           NA            NA           NA
   Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N HGHT
1:           0            0           NA        3        1              0  146
2:          NA           NA           NA        3        1              0  159
3:          NA           NA           NA        2        1              0  160
4:          NA           NA           NA        3        1              0  156
5:          NA           NA           NA        2        1              0  157
   WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL  TG HDL
1:   48   78 22.5   1.5   1.5    138     84        1 12.8 107      178  87  35
2:   54   66 21.4   1.2   1.5    111     60        1 12.2  88      166  42  58
3:   56   67 21.9   1.5   1.5    119     78        1 11.2  84      152  38  43
4:   53   67 21.8   1.2   1.0    138     72        1 11.0  74      155  86  52
5:   55   73 22.3   1.5   1.5    110     70        1 11.9 100      192 109  53
   LDL CRTN SGOT SGPT GGT GFR
1: 125  0.7   21   21  23  70
2:  99  1.0   16   11  12  65
3: 101  0.8    8    6  10  97
4:  85  0.6   15   13  13  96
5: 117  0.7   15   12  14  83</code></pre>
</div>
</div>
</section>
<section id="merge-4" class="slide level2 smaller">
<h2>Merge</h2>
<p><strong>Left join</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="fu">merge</span>(dt1, dt2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"RN_INDI"</span>, <span class="st">"HME_YYYYMM"</span>), <span class="at">all.x =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
 1:         2009  183321     200908           NA            NA           NA
 2:         2009  219397     200912            0             0            1
 3:         2009  334536     200911            0             0            0
 4:         2009  487160     200908           NA            NA           NA
 5:         2009  554112     200911           NA            NA           NA
 6:         2009  562083     200909            0             0            1
 7:         2009  793017     200906           NA            NA           NA
 8:         2009  911867     200903            0             0            0
 9:         2009  942671     200909           NA            NA           NA
10:         2009  979358     200912           NA            NA           NA
    Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N HGHT
 1:          NA           NA           NA        3        1              0   NA
 2:           0            0           NA        3        1              0  146
 3:           0            0           NA        2        1              0   NA
 4:          NA           NA           NA        3        1              0  159
 5:          NA           NA           NA        2        1              0  160
 6:           0            0           NA        3        1              0   NA
 7:          NA           NA           NA        3        1              0  156
 8:           0            0           NA        3        1              0   NA
 9:          NA           NA           NA        3        1              0   NA
10:          NA           NA           NA        2        1              0  157
    WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL  TG HDL
 1:   NA   NA   NA    NA    NA     NA     NA       NA   NA  NA       NA  NA  NA
 2:   48   78 22.5   1.5   1.5    138     84        1 12.8 107      178  87  35
 3:   NA   NA   NA    NA    NA     NA     NA       NA   NA  NA       NA  NA  NA
 4:   54   66 21.4   1.2   1.5    111     60        1 12.2  88      166  42  58
 5:   56   67 21.9   1.5   1.5    119     78        1 11.2  84      152  38  43
 6:   NA   NA   NA    NA    NA     NA     NA       NA   NA  NA       NA  NA  NA
 7:   53   67 21.8   1.2   1.0    138     72        1 11.0  74      155  86  52
 8:   NA   NA   NA    NA    NA     NA     NA       NA   NA  NA       NA  NA  NA
 9:   NA   NA   NA    NA    NA     NA     NA       NA   NA  NA       NA  NA  NA
10:   55   73 22.3   1.5   1.5    110     70        1 11.9 100      192 109  53
    LDL CRTN SGOT SGPT GGT GFR
 1:  NA   NA   NA   NA  NA  NA
 2: 125  0.7   21   21  23  70
 3:  NA   NA   NA   NA  NA  NA
 4:  99  1.0   16   11  12  65
 5: 101  0.8    8    6  10  97
 6:  NA   NA   NA   NA  NA  NA
 7:  85  0.6   15   13  13  96
 8:  NA   NA   NA   NA  NA  NA
 9:  NA   NA   NA   NA  NA  NA
10: 117  0.7   15   12  14  83</code></pre>
</div>
</div>
</section>
<section id="merge-5" class="slide level2 smaller">
<h2>Merge</h2>
<p><strong>Left join</strong> 다른 방법</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>dt2[dt1, on <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"RN_INDI"</span>, <span class="st">"HME_YYYYMM"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    EXMD_BZ_YYYY RN_INDI HME_YYYYMM HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS
 1:         2009  562083     200909   NA   NA   NA   NA    NA    NA     NA
 2:         2009  334536     200911   NA   NA   NA   NA    NA    NA     NA
 3:         2009  911867     200903   NA   NA   NA   NA    NA    NA     NA
 4:         2009  183321     200908   NA   NA   NA   NA    NA    NA     NA
 5:         2009  942671     200909   NA   NA   NA   NA    NA    NA     NA
 6:         2009  979358     200912  157   55   73 22.3   1.5   1.5    110
 7:         2009  554112     200911  160   56   67 21.9   1.5   1.5    119
 8:         2009  487160     200908  159   54   66 21.4   1.2   1.5    111
 9:         2009  793017     200906  156   53   67 21.8   1.2   1.0    138
10:         2009  219397     200912  146   48   78 22.5   1.5   1.5    138
    BP_DIA URN_PROT  HGB FBS TOT_CHOL  TG HDL LDL CRTN SGOT SGPT GGT GFR
 1:     NA       NA   NA  NA       NA  NA  NA  NA   NA   NA   NA  NA  NA
 2:     NA       NA   NA  NA       NA  NA  NA  NA   NA   NA   NA  NA  NA
 3:     NA       NA   NA  NA       NA  NA  NA  NA   NA   NA   NA  NA  NA
 4:     NA       NA   NA  NA       NA  NA  NA  NA   NA   NA   NA  NA  NA
 5:     NA       NA   NA  NA       NA  NA  NA  NA   NA   NA   NA  NA  NA
 6:     70        1 11.9 100      192 109  53 117  0.7   15   12  14  83
 7:     78        1 11.2  84      152  38  43 101  0.8    8    6  10  97
 8:     60        1 12.2  88      166  42  58  99  1.0   16   11  12  65
 9:     72        1 11.0  74      155  86  52  85  0.6   15   13  13  96
10:     84        1 12.8 107      178  87  35 125  0.7   21   21  23  70
    Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN Q_PHX_DX_DM Q_PHX_DX_DLD
 1:            0             0            1           0            0
 2:            0             0            0           0            0
 3:            0             0            0           0            0
 4:           NA            NA           NA          NA           NA
 5:           NA            NA           NA          NA           NA
 6:           NA            NA           NA          NA           NA
 7:           NA            NA           NA          NA           NA
 8:           NA            NA           NA          NA           NA
 9:           NA            NA           NA          NA           NA
10:            0             0            1           0            0
    Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
 1:           NA        3        1              0
 2:           NA        2        1              0
 3:           NA        3        1              0
 4:           NA        3        1              0
 5:           NA        3        1              0
 6:           NA        2        1              0
 7:           NA        2        1              0
 8:           NA        3        1              0
 9:           NA        3        1              0
10:           NA        3        1              0</code></pre>
</div>
</div>
</section>
<section id="merge-6" class="slide level2 smaller">
<h2>Merge</h2>
<p><strong>Right join</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a><span class="fu">merge</span>(dt1, dt2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"RN_INDI"</span>, <span class="st">"HME_YYYYMM"</span>), <span class="at">all.y =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
 1:         2009  219397     200912            0             0            1
 2:         2009  318669     200904           NA            NA           NA
 3:         2009  395781     200907           NA            NA           NA
 4:         2009  480569     200901           NA            NA           NA
 5:         2009  487160     200908           NA            NA           NA
 6:         2009  554112     200911           NA            NA           NA
 7:         2009  559370     200912           NA            NA           NA
 8:         2009  793017     200906           NA            NA           NA
 9:         2009  831349     200912           NA            NA           NA
10:         2009  979358     200912           NA            NA           NA
    Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N HGHT
 1:           0            0           NA        3        1              0  146
 2:          NA           NA           NA       NA       NA             NA  155
 3:          NA           NA           NA       NA       NA             NA  165
 4:          NA           NA           NA       NA       NA             NA  154
 5:          NA           NA           NA        3        1              0  159
 6:          NA           NA           NA        2        1              0  160
 7:          NA           NA           NA       NA       NA             NA  155
 8:          NA           NA           NA        3        1              0  156
 9:          NA           NA           NA       NA       NA             NA  164
10:          NA           NA           NA        2        1              0  157
    WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL  TG HDL
 1:   48   78 22.5   1.5   1.5    138     84        1 12.8 107      178  87  35
 2:   66   78 27.5   0.8   0.6     95     58        1 13.6 101      294 119  50
 3:   60   71 22.0   0.6   0.4    120     70        1 15.3  85      237 112  56
 4:   58   84 24.5   0.1   0.8    140     70        1 10.4  84      242 134  53
 5:   54   66 21.4   1.2   1.5    111     60        1 12.2  88      166  42  58
 6:   56   67 21.9   1.5   1.5    119     78        1 11.2  84      152  38  43
 7:   51   75 21.2   1.0   1.0     93     53        1 11.1  92      212  44  69
 8:   53   67 21.8   1.2   1.0    138     72        1 11.0  74      155  86  52
 9:   66   85 24.5   1.2   1.0    130     90        1 16.3 108      209  57  59
10:   55   73 22.3   1.5   1.5    110     70        1 11.9 100      192 109  53
    LDL CRTN SGOT SGPT GGT GFR
 1: 125  0.7   21   21  23  70
 2: 220  0.6   22   22  22 116
 3: 158  1.0   24   20  18  70
 4: 162  1.1   15   10  10  37
 5:  99  1.0   16   11  12  65
 6: 101  0.8    8    6  10  97
 7: 134  1.0   20   10  10  59
 8:  85  0.6   15   13  13  96
 9: 138  0.8   32   38  16  98
10: 117  0.7   15   12  14  83</code></pre>
</div>
</div>
</section>
<section id="merge-7" class="slide level2 smaller">
<h2>Merge</h2>
<p><strong>Right join</strong> 다른 방법</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>dt1[dt2, on <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"RN_INDI"</span>, <span class="st">"HME_YYYYMM"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
 1:         2009  979358     200912           NA            NA           NA
 2:         2009  554112     200911           NA            NA           NA
 3:         2009  487160     200908           NA            NA           NA
 4:         2009  793017     200906           NA            NA           NA
 5:         2009  219397     200912            0             0            1
 6:         2009  831349     200912           NA            NA           NA
 7:         2009  480569     200901           NA            NA           NA
 8:         2009  559370     200912           NA            NA           NA
 9:         2009  318669     200904           NA            NA           NA
10:         2009  395781     200907           NA            NA           NA
    Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N HGHT
 1:          NA           NA           NA        2        1              0  157
 2:          NA           NA           NA        2        1              0  160
 3:          NA           NA           NA        3        1              0  159
 4:          NA           NA           NA        3        1              0  156
 5:           0            0           NA        3        1              0  146
 6:          NA           NA           NA       NA       NA             NA  164
 7:          NA           NA           NA       NA       NA             NA  154
 8:          NA           NA           NA       NA       NA             NA  155
 9:          NA           NA           NA       NA       NA             NA  155
10:          NA           NA           NA       NA       NA             NA  165
    WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL  TG HDL
 1:   55   73 22.3   1.5   1.5    110     70        1 11.9 100      192 109  53
 2:   56   67 21.9   1.5   1.5    119     78        1 11.2  84      152  38  43
 3:   54   66 21.4   1.2   1.5    111     60        1 12.2  88      166  42  58
 4:   53   67 21.8   1.2   1.0    138     72        1 11.0  74      155  86  52
 5:   48   78 22.5   1.5   1.5    138     84        1 12.8 107      178  87  35
 6:   66   85 24.5   1.2   1.0    130     90        1 16.3 108      209  57  59
 7:   58   84 24.5   0.1   0.8    140     70        1 10.4  84      242 134  53
 8:   51   75 21.2   1.0   1.0     93     53        1 11.1  92      212  44  69
 9:   66   78 27.5   0.8   0.6     95     58        1 13.6 101      294 119  50
10:   60   71 22.0   0.6   0.4    120     70        1 15.3  85      237 112  56
    LDL CRTN SGOT SGPT GGT GFR
 1: 117  0.7   15   12  14  83
 2: 101  0.8    8    6  10  97
 3:  99  1.0   16   11  12  65
 4:  85  0.6   15   13  13  96
 5: 125  0.7   21   21  23  70
 6: 138  0.8   32   38  16  98
 7: 162  1.1   15   10  10  37
 8: 134  1.0   20   10  10  59
 9: 220  0.6   22   22  22 116
10: 158  1.0   24   20  18  70</code></pre>
</div>
</div>
</section>
<section id="merge-8" class="slide level2 smaller">
<h2>Merge</h2>
<p><strong>Left anti join</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>dt1[<span class="sc">!</span>dt2, on <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"RN_INDI"</span>, <span class="st">"HME_YYYYMM"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
1:         2009  562083     200909            0             0            1
2:         2009  334536     200911            0             0            0
3:         2009  911867     200903            0             0            0
4:         2009  183321     200908           NA            NA           NA
5:         2009  942671     200909           NA            NA           NA
   Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
1:           0            0           NA        3        1              0
2:           0            0           NA        2        1              0
3:           0            0           NA        3        1              0
4:          NA           NA           NA        3        1              0
5:          NA           NA           NA        3        1              0</code></pre>
</div>
</div>
</section>
<section id="merge-9" class="slide level2 smaller">
<h2>Merge</h2>
<p><strong>Right anti join</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>dt2[<span class="sc">!</span>dt1, on <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"RN_INDI"</span>, <span class="st">"HME_YYYYMM"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EXMD_BZ_YYYY RN_INDI HME_YYYYMM HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS
1:         2009  831349     200912  164   66   85 24.5   1.2   1.0    130
2:         2009  480569     200901  154   58   84 24.5   0.1   0.8    140
3:         2009  559370     200912  155   51   75 21.2   1.0   1.0     93
4:         2009  318669     200904  155   66   78 27.5   0.8   0.6     95
5:         2009  395781     200907  165   60   71 22.0   0.6   0.4    120
   BP_DIA URN_PROT  HGB FBS TOT_CHOL  TG HDL LDL CRTN SGOT SGPT GGT GFR
1:     90        1 16.3 108      209  57  59 138  0.8   32   38  16  98
2:     70        1 10.4  84      242 134  53 162  1.1   15   10  10  37
3:     53        1 11.1  92      212  44  69 134  1.0   20   10  10  59
4:     58        1 13.6 101      294 119  50 220  0.6   22   22  22 116
5:     70        1 15.3  85      237 112  56 158  1.0   24   20  18  70</code></pre>
</div>
</div>
</section>
<section id="mutate" class="slide level2 smaller">
<h2>Mutate</h2>
<p>새로운 변수 생성</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>dt[, BMI2 <span class="sc">:</span><span class="er">=</span> <span class="fu">round</span>(WGHT<span class="sc">/</span>(HGHT<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>, <span class="dv">1</span>)][]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
   1:         2009  562083     200909            0             0            1
   2:         2009  334536     200911            0             0            0
   3:         2009  911867     200903            0             0            0
   4:         2009  183321     200908           NA            NA           NA
   5:         2009  942671     200909           NA            NA           NA
  ---                                                                        
1640:         2015  266734     201504           NA            NA           NA
1641:         2015  343874     201511            0             0            0
1642:         2015  798472     201507           NA            NA           NA
1643:         2015  720080     201505           NA            NA           NA
1644:         2015  127519     201511            0             0            1
      Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
   1:           0            0           NA        3        1              0
   2:           0            0           NA        2        1              0
   3:           0            0           NA        3        1              0
   4:          NA           NA           NA        3        1              0
   5:          NA           NA           NA        3        1              0
  ---                                                                       
1640:          NA           NA           NA        1        2              2
1641:           1            0            0        2        2              0
1642:          NA           NA           NA        3        2              0
1643:          NA            1           NA        2        2              1
1644:           0            0            0        3        2              4
      HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL
   1:  144   61   90 29.4   0.7   0.8    120     80        1 12.6 117      264
   2:  162   51   63 19.4   0.8   1.0    120     80        1 13.8  96      169
   3:  163   65   82 24.5   0.7   0.6    130     80        1 15.0 118      216
   4:  152   51   70 22.1   0.8   0.9    101     62        1 13.1  90      199
   5:  159   50   73 19.8   0.7   0.8    132     78        1 13.0  92      162
  ---                                                                         
1640:  171   76   88 26.0   1.2   1.2    125     89        1 14.1  77      363
1641:  179   80   88 25.0   1.0   0.7    126     83        1 14.9 119      106
1642:  163   63   80 23.7   1.5   1.5    118     77        1 16.1 160      271
1643:  165   70   92 25.7   0.6   0.8    120     80        1 13.6  81      289
1644:  168   84  103 29.8   0.9   0.8    140     85        1 15.2 134      210
       TG HDL LDL CRTN SGOT SGPT GGT GFR BMI2
   1: 128  60 179  0.9   25   20  25  59 29.4
   2:  92  70  80  0.9   18   15  28  74 19.4
   3: 132  55 134  0.8   26   30  30  79 24.5
   4: 100  65 114  0.9   18   14  11  61 22.1
   5:  58  40 111  0.9   24   23  15  49 19.8
  ---                                        
1640: 280  63 244  0.9   19   32  95  96 26.0
1641: 247  29  50  0.9  101  157  62  79 25.0
1642: 514  51 151  1.0   40   66 104  85 23.7
1643: 810  52  NA  1.0   37   33  76  86 25.7
1644: 298  56  94  1.1   55   49  66  66 29.8</code></pre>
</div>
</div>
</section>
<section id="mutate-1" class="slide level2 smaller">
<h2>Mutate</h2>
<p>새로운 변수 생성</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a>dt[, <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(<span class="at">BP_SYS140 =</span> <span class="fu">factor</span>(<span class="fu">as.integer</span>(BP_SYS <span class="sc">&gt;=</span> <span class="dv">140</span>)), <span class="at">BMI25 =</span> <span class="fu">factor</span>(<span class="fu">as.integer</span>(BMI <span class="sc">&gt;=</span> <span class="dv">25</span>)))][]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
   1:         2009  562083     200909            0             0            1
   2:         2009  334536     200911            0             0            0
   3:         2009  911867     200903            0             0            0
   4:         2009  183321     200908           NA            NA           NA
   5:         2009  942671     200909           NA            NA           NA
  ---                                                                        
1640:         2015  266734     201504           NA            NA           NA
1641:         2015  343874     201511            0             0            0
1642:         2015  798472     201507           NA            NA           NA
1643:         2015  720080     201505           NA            NA           NA
1644:         2015  127519     201511            0             0            1
      Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
   1:           0            0           NA        3        1              0
   2:           0            0           NA        2        1              0
   3:           0            0           NA        3        1              0
   4:          NA           NA           NA        3        1              0
   5:          NA           NA           NA        3        1              0
  ---                                                                       
1640:          NA           NA           NA        1        2              2
1641:           1            0            0        2        2              0
1642:          NA           NA           NA        3        2              0
1643:          NA            1           NA        2        2              1
1644:           0            0            0        3        2              4
      HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL
   1:  144   61   90 29.4   0.7   0.8    120     80        1 12.6 117      264
   2:  162   51   63 19.4   0.8   1.0    120     80        1 13.8  96      169
   3:  163   65   82 24.5   0.7   0.6    130     80        1 15.0 118      216
   4:  152   51   70 22.1   0.8   0.9    101     62        1 13.1  90      199
   5:  159   50   73 19.8   0.7   0.8    132     78        1 13.0  92      162
  ---                                                                         
1640:  171   76   88 26.0   1.2   1.2    125     89        1 14.1  77      363
1641:  179   80   88 25.0   1.0   0.7    126     83        1 14.9 119      106
1642:  163   63   80 23.7   1.5   1.5    118     77        1 16.1 160      271
1643:  165   70   92 25.7   0.6   0.8    120     80        1 13.6  81      289
1644:  168   84  103 29.8   0.9   0.8    140     85        1 15.2 134      210
       TG HDL LDL CRTN SGOT SGPT GGT GFR BMI2 BP_SYS140 BMI25
   1: 128  60 179  0.9   25   20  25  59 29.4         0     1
   2:  92  70  80  0.9   18   15  28  74 19.4         0     0
   3: 132  55 134  0.8   26   30  30  79 24.5         0     0
   4: 100  65 114  0.9   18   14  11  61 22.1         0     0
   5:  58  40 111  0.9   24   23  15  49 19.8         0     0
  ---                                                        
1640: 280  63 244  0.9   19   32  95  96 26.0         0     1
1641: 247  29  50  0.9  101  157  62  79 25.0         0     1
1642: 514  51 151  1.0   40   66 104  85 23.7         0     0
1643: 810  52  NA  1.0   37   33  76  86 25.7         0     1
1644: 298  56  94  1.1   55   49  66  66 29.8         1     1</code></pre>
</div>
</div>
</section>
<section id="mutate-2" class="slide level2 smaller">
<h2>Mutate</h2>
<p>BMI2 열 <strong>삭제</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>dt[, BMI2 <span class="sc">:</span><span class="er">=</span> <span class="cn">NULL</span>][]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
   1:         2009  562083     200909            0             0            1
   2:         2009  334536     200911            0             0            0
   3:         2009  911867     200903            0             0            0
   4:         2009  183321     200908           NA            NA           NA
   5:         2009  942671     200909           NA            NA           NA
  ---                                                                        
1640:         2015  266734     201504           NA            NA           NA
1641:         2015  343874     201511            0             0            0
1642:         2015  798472     201507           NA            NA           NA
1643:         2015  720080     201505           NA            NA           NA
1644:         2015  127519     201511            0             0            1
      Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
   1:           0            0           NA        3        1              0
   2:           0            0           NA        2        1              0
   3:           0            0           NA        3        1              0
   4:          NA           NA           NA        3        1              0
   5:          NA           NA           NA        3        1              0
  ---                                                                       
1640:          NA           NA           NA        1        2              2
1641:           1            0            0        2        2              0
1642:          NA           NA           NA        3        2              0
1643:          NA            1           NA        2        2              1
1644:           0            0            0        3        2              4
      HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL
   1:  144   61   90 29.4   0.7   0.8    120     80        1 12.6 117      264
   2:  162   51   63 19.4   0.8   1.0    120     80        1 13.8  96      169
   3:  163   65   82 24.5   0.7   0.6    130     80        1 15.0 118      216
   4:  152   51   70 22.1   0.8   0.9    101     62        1 13.1  90      199
   5:  159   50   73 19.8   0.7   0.8    132     78        1 13.0  92      162
  ---                                                                         
1640:  171   76   88 26.0   1.2   1.2    125     89        1 14.1  77      363
1641:  179   80   88 25.0   1.0   0.7    126     83        1 14.9 119      106
1642:  163   63   80 23.7   1.5   1.5    118     77        1 16.1 160      271
1643:  165   70   92 25.7   0.6   0.8    120     80        1 13.6  81      289
1644:  168   84  103 29.8   0.9   0.8    140     85        1 15.2 134      210
       TG HDL LDL CRTN SGOT SGPT GGT GFR BP_SYS140 BMI25
   1: 128  60 179  0.9   25   20  25  59         0     1
   2:  92  70  80  0.9   18   15  28  74         0     0
   3: 132  55 134  0.8   26   30  30  79         0     0
   4: 100  65 114  0.9   18   14  11  61         0     0
   5:  58  40 111  0.9   24   23  15  49         0     0
  ---                                                   
1640: 280  63 244  0.9   19   32  95  96         0     1
1641: 247  29  50  0.9  101  157  62  79         0     1
1642: 514  51 151  1.0   40   66 104  85         0     0
1643: 810  52  NA  1.0   37   33  76  86         0     1
1644: 298  56  94  1.1   55   49  66  66         1     1</code></pre>
</div>
</div>
</section>
<section id="specific-symbol" class="slide level2 smaller">
<h2>Specific symbol</h2>
<p><strong>.SD</strong>: Subset of Data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>dt[, .SD]   <span class="co"># all column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
   1:         2009  562083     200909            0             0            1
   2:         2009  334536     200911            0             0            0
   3:         2009  911867     200903            0             0            0
   4:         2009  183321     200908           NA            NA           NA
   5:         2009  942671     200909           NA            NA           NA
  ---                                                                        
1640:         2015  266734     201504           NA            NA           NA
1641:         2015  343874     201511            0             0            0
1642:         2015  798472     201507           NA            NA           NA
1643:         2015  720080     201505           NA            NA           NA
1644:         2015  127519     201511            0             0            1
      Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
   1:           0            0           NA        3        1              0
   2:           0            0           NA        2        1              0
   3:           0            0           NA        3        1              0
   4:          NA           NA           NA        3        1              0
   5:          NA           NA           NA        3        1              0
  ---                                                                       
1640:          NA           NA           NA        1        2              2
1641:           1            0            0        2        2              0
1642:          NA           NA           NA        3        2              0
1643:          NA            1           NA        2        2              1
1644:           0            0            0        3        2              4
      HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL
   1:  144   61   90 29.4   0.7   0.8    120     80        1 12.6 117      264
   2:  162   51   63 19.4   0.8   1.0    120     80        1 13.8  96      169
   3:  163   65   82 24.5   0.7   0.6    130     80        1 15.0 118      216
   4:  152   51   70 22.1   0.8   0.9    101     62        1 13.1  90      199
   5:  159   50   73 19.8   0.7   0.8    132     78        1 13.0  92      162
  ---                                                                         
1640:  171   76   88 26.0   1.2   1.2    125     89        1 14.1  77      363
1641:  179   80   88 25.0   1.0   0.7    126     83        1 14.9 119      106
1642:  163   63   80 23.7   1.5   1.5    118     77        1 16.1 160      271
1643:  165   70   92 25.7   0.6   0.8    120     80        1 13.6  81      289
1644:  168   84  103 29.8   0.9   0.8    140     85        1 15.2 134      210
       TG HDL LDL CRTN SGOT SGPT GGT GFR BP_SYS140 BMI25
   1: 128  60 179  0.9   25   20  25  59         0     1
   2:  92  70  80  0.9   18   15  28  74         0     0
   3: 132  55 134  0.8   26   30  30  79         0     0
   4: 100  65 114  0.9   18   14  11  61         0     0
   5:  58  40 111  0.9   24   23  15  49         0     0
  ---                                                   
1640: 280  63 244  0.9   19   32  95  96         0     1
1641: 247  29  50  0.9  101  157  62  79         0     1
1642: 514  51 151  1.0   40   66 104  85         0     0
1643: 810  52  NA  1.0   37   33  76  86         0     1
1644: 298  56  94  1.1   55   49  66  66         1     1</code></pre>
</div>
</div>
</section>
<section id="specific-symbol-1" class="slide level2 smaller">
<h2>Specific symbol</h2>
<p><strong>.SD</strong>: Subset of Data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a>dt[, <span class="fu">lapply</span>(.SD, class)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   EXMD_BZ_YYYY RN_INDI HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
1:      integer integer    integer      integer       integer      integer
   Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
1:     integer      integer      integer  integer  integer        integer
      HGHT    WGHT    WSTC     BMI   VA_LT   VA_RT  BP_SYS  BP_DIA URN_PROT
1: integer integer integer numeric numeric numeric integer integer  integer
       HGB     FBS TOT_CHOL      TG     HDL     LDL    CRTN    SGOT    SGPT
1: numeric integer  integer integer integer integer numeric integer integer
       GGT     GFR BP_SYS140  BMI25
1: integer integer    factor factor</code></pre>
</div>
</div>
</section>
<section id="specific-symbol-2" class="slide level2 smaller">
<h2>Specific symbol</h2>
<p><strong>.SD</strong>: Subset of Data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>dt[<span class="fu">order</span>(EXMD_BZ_YYYY), .SD[<span class="dv">1</span>], keyby <span class="ot">=</span> <span class="st">"RN_INDI"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     RN_INDI EXMD_BZ_YYYY HME_YYYYMM Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN
  1:    2270         2010     201012            0             0            0
  2:    3690         2010     201005            0             0            0
  3:    4263         2009     200910           NA            NA           NA
  4:    4664         2009     200910            0             0            0
  5:    5707         2010     201007           NA            NA           NA
 ---                                                                        
543:  995838         2013     201312            0             0            0
544:  999693         2010     201003            0             0            0
545: 1005250         2012     201204            0             0            0
546: 1009573         2009     200904            0             0            0
547: 1010623         2010     201005            0             0            0
     Q_PHX_DX_DM Q_PHX_DX_DLD Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
  1:           0            0            0        2        1              2
  2:           0            0            0        2        3              1
  3:          NA           NA           NA        2        2              1
  4:           0            0           NA        2        1              0
  5:          NA           NA           NA        3        1              1
 ---                                                                       
543:           0            0            0        2        1              0
544:           0            0            0        2        2              1
545:           0            0            0        3        3              1
546:           0            1           NA        2        2              2
547:           0            0            0        3        3              1
     HGHT WGHT WSTC  BMI VA_LT VA_RT BP_SYS BP_DIA URN_PROT  HGB FBS TOT_CHOL
  1:  161   58   68 22.4   2.0   1.5    119     72        1 14.1 102      220
  2:  159   51   77 20.2   1.0   0.9    110     60        1 13.3  89      145
  3:  175   66   78 21.6   1.5   2.0    110     70        1 13.5  79      264
  4:  160   53   63 20.7   0.9   0.9    110     80        1 12.7  84      192
  5:  160   50   67 19.5   0.7   1.0     98     51        1 13.1  83      182
 ---                                                                         
543:  156   44   66 18.1   1.2   1.0    100     60        1 13.6 118      242
544:  167   70   92 25.1   1.0   1.2    127     79        1 14.8  97      289
545:  181   72   78 22.0   1.5   1.5    115     70        1 14.0 102      171
546:  170   74   88 25.6   1.2   1.2    110     70        1 13.8  70      185
547:  173   80   86 26.7   0.6   0.9    110     72        1 15.5  92      234
      TG HDL LDL CRTN SGOT SGPT GGT GFR BP_SYS140 BMI25
  1:  99  55 145  0.8   17   13  17  NA         0     0
  2: 101  47  78  0.6   20   13  22  NA         0     0
  3:  54  81 172  1.2   15   15  17  77         0     0
  4:  74  57 120  0.9   17    9   9  70         0     0
  5:  68  67 101  0.7   11    7  10  NA         0     0
 ---                                                   
543: 170  62 146  0.9   17   13  11  73         0     0
544: 685  45  NA  1.0   28   38  64  NA         0     1
545:  58  69  NA  1.2   21   18  19  80         0     0
546:  46 117  58  1.0   21   31  24  89         0     1
547: 427  52  NA  1.1   19   20  21  NA         0     1</code></pre>
</div>
</div>
</section>
<section id="specific-symbol-3" class="slide level2 smaller">
<h2>Specific symbol</h2>
<p><strong>.SDcols</strong>: 연산 대상이 되는 특정 열 지정</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a>dt[<span class="fu">order</span>(EXMD_BZ_YYYY), .SD[<span class="dv">1</span>], .SDcols <span class="ot">=</span> colvars, keyby <span class="ot">=</span> <span class="st">"RN_INDI"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     RN_INDI Q_PHX_DX_STK Q_PHX_DX_HTDZ Q_PHX_DX_HTN Q_PHX_DX_DM Q_PHX_DX_DLD
  1:    2270            0             0            0           0            0
  2:    3690            0             0            0           0            0
  3:    4263           NA            NA           NA          NA           NA
  4:    4664            0             0            0           0            0
  5:    5707           NA            NA           NA          NA           NA
 ---                                                                         
543:  995838            0             0            0           0            0
544:  999693            0             0            0           0            0
545: 1005250            0             0            0           0            0
546: 1009573            0             0            0           0            1
547: 1010623            0             0            0           0            0
     Q_PHX_DX_PTB Q_HBV_AG Q_SMK_YN Q_DRK_FRQ_V09N
  1:            0        2        1              2
  2:            0        2        3              1
  3:           NA        2        2              1
  4:           NA        2        1              0
  5:           NA        3        1              1
 ---                                              
543:            0        2        1              0
544:            0        2        2              1
545:            0        3        3              1
546:           NA        2        2              2
547:            0        3        3              1</code></pre>
</div>
</div>
</section>
<section id="specific-symbol-4" class="slide level2 smaller">
<h2>Specific symbol</h2>
<p><strong>.N</strong>: length()</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a>dt[, .N, keyby <span class="ot">=</span> <span class="st">"RN_INDI"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     RN_INDI N
  1:    2270 2
  2:    3690 1
  3:    4263 7
  4:    4664 4
  5:    5707 2
 ---          
543:  995838 2
544:  999693 2
545: 1005250 4
546: 1009573 6
547: 1010623 4</code></pre>
</div>
</div>
</section>
<section id="melt" class="slide level2 smaller">
<h2>melt</h2>

<img src="melt.png" class="r-stretch"></section>
<section id="melt-1" class="slide level2 smaller">
<h2>melt</h2>
<p>일부 열을 제외한 나머지 열을 <strong>stack 처리</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>dt.long1 <span class="ot">&lt;-</span> <span class="fu">melt</span>(dt, </span>
<span id="cb95-2"><a href="#cb95-2"></a>                 <span class="at">id.vars =</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"RN_INDI"</span>, <span class="st">"HME_YYYYMM"</span>),   <span class="co"># 고정할 열</span></span>
<span id="cb95-3"><a href="#cb95-3"></a>                 <span class="at">measure.vars =</span> <span class="fu">c</span>(<span class="st">"TOT_CHOL"</span>, <span class="st">"TG"</span>, <span class="st">"HDL"</span>, <span class="st">"LDL"</span>),   <span class="co"># 재구조화할 열</span></span>
<span id="cb95-4"><a href="#cb95-4"></a>                 <span class="at">variable.name =</span> <span class="st">"Lipid"</span>,   <span class="co"># 재구조화한 후 variable 열의 이름</span></span>
<span id="cb95-5"><a href="#cb95-5"></a>                 <span class="at">value.name =</span> <span class="st">"Value"</span>)   <span class="co"># 재구조화한 후 value 열의 이름</span></span>
<span id="cb95-6"><a href="#cb95-6"></a>dt.long1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM    Lipid Value
   1:         2009  562083     200909 TOT_CHOL   264
   2:         2009  334536     200911 TOT_CHOL   169
   3:         2009  911867     200903 TOT_CHOL   216
   4:         2009  183321     200908 TOT_CHOL   199
   5:         2009  942671     200909 TOT_CHOL   162
  ---                                               
6572:         2015  266734     201504      LDL   244
6573:         2015  343874     201511      LDL    50
6574:         2015  798472     201507      LDL   151
6575:         2015  720080     201505      LDL    NA
6576:         2015  127519     201511      LDL    94</code></pre>
</div>
</div>
</section>
<section id="melt-2" class="slide level2 smaller">
<h2>melt</h2>
<p>동시에 여러 개의 열로 melt 가능</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>col1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"BP_SYS"</span>, <span class="st">"BP_DIA"</span>)</span>
<span id="cb97-2"><a href="#cb97-2"></a>col2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"VA_LT"</span>, <span class="st">"VA_RT"</span>)</span>
<span id="cb97-3"><a href="#cb97-3"></a>dt.long2 <span class="ot">&lt;-</span> <span class="fu">melt</span>(dt,</span>
<span id="cb97-4"><a href="#cb97-4"></a>                 <span class="at">id.vars =</span> <span class="fu">c</span>(<span class="st">"EXMD_BZ_YYYY"</span>, <span class="st">"RN_INDI"</span>, <span class="st">"HME_YYYYMM"</span>),</span>
<span id="cb97-5"><a href="#cb97-5"></a>                 <span class="at">measure =</span> <span class="fu">list</span>(col1, col2),</span>
<span id="cb97-6"><a href="#cb97-6"></a>                 <span class="at">value.name =</span> <span class="fu">c</span>(<span class="st">"BP"</span>, <span class="st">"VA"</span>))</span>
<span id="cb97-7"><a href="#cb97-7"></a>dt.long2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM variable  BP  VA
   1:         2009  562083     200909        1 120 0.7
   2:         2009  334536     200911        1 120 0.8
   3:         2009  911867     200903        1 130 0.7
   4:         2009  183321     200908        1 101 0.8
   5:         2009  942671     200909        1 132 0.7
  ---                                                 
3284:         2015  266734     201504        2  89 1.2
3285:         2015  343874     201511        2  83 0.7
3286:         2015  798472     201507        2  77 1.5
3287:         2015  720080     201505        2  80 0.8
3288:         2015  127519     201511        2  85 0.8</code></pre>
</div>
</div>
</section>
<section id="dcast" class="slide level2 smaller">
<h2>dcast</h2>
<p>melt 함수로 재구조화한 것을 다시 <strong>분리</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>dt.wide1 <span class="ot">&lt;-</span> <span class="fu">dcast</span>(dt.long1, EXMD_BZ_YYYY <span class="sc">+</span> RN_INDI <span class="sc">+</span> HME_YYYYMM <span class="sc">~</span> Lipid, <span class="at">value.var =</span> <span class="st">"Value"</span>)</span>
<span id="cb99-2"><a href="#cb99-2"></a>dt.wide1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM TOT_CHOL  TG HDL LDL
   1:         2009    4263     200910      264  54  81 172
   2:         2009    4664     200910      192  74  57 120
   3:         2009    9866     200912      112 116  48  40
   4:         2009   17079     200911      161  52  72  78
   5:         2009   26776     200902      189  62  59 117
  ---                                                     
1640:         2015  985608     201512      189  61  70 106
1641:         2015  992522     201512      180  81 105  59
1642:         2015  995240     201511      222 319  74  84
1643:         2015 1005250     201504      159 105  60  78
1644:         2015 1010623     201502      244 440  48  NA</code></pre>
</div>
</div>
</section>
<section id="dcast-1" class="slide level2 smaller">
<h2>dcast</h2>
<p>그룹별 요약 통계량을 계산한 결과를 재구조화하여 반환</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a>dt.wide2 <span class="ot">&lt;-</span> <span class="fu">dcast</span>(dt.long1, RN_INDI <span class="sc">~</span> Lipid, <span class="at">value.var =</span> <span class="st">"Value"</span>, <span class="at">fun.aggregate =</span> mean, <span class="at">na.rm =</span>T)</span>
<span id="cb101-2"><a href="#cb101-2"></a>dt.wide2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     RN_INDI TOT_CHOL        TG      HDL      LDL
  1:    2270 205.5000 105.50000 58.00000 126.5000
  2:    3690 145.0000 101.00000 47.00000  78.0000
  3:    4263 243.4286  47.14286 75.71429 158.0000
  4:    4664 180.5000  88.25000 52.50000 110.0000
  5:    5707 209.0000  78.00000 68.50000 124.5000
 ---                                             
543:  995838 243.5000 122.00000 64.00000 155.0000
544:  999693 268.5000 454.00000 42.50000 163.0000
545: 1005250 158.0000  65.00000 64.50000  77.0000
546: 1009573 229.6667 153.16667 52.83333 145.8333
547: 1010623 222.5000 351.00000 48.75000 104.5000</code></pre>
</div>
</div>
</section>
<section id="dcast-2" class="slide level2 smaller">
<h2>dcast</h2>
<p>여러 열을 동시에 dcast 가능</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a>dt.wide3 <span class="ot">&lt;-</span> <span class="fu">dcast</span>(dt.long2, ... <span class="sc">~</span> variable, <span class="at">value.var =</span> <span class="fu">c</span>(<span class="st">"BP"</span>, <span class="st">"VA"</span>))</span>
<span id="cb103-2"><a href="#cb103-2"></a>dt.wide3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      EXMD_BZ_YYYY RN_INDI HME_YYYYMM BP_1 BP_2 VA_1 VA_2
   1:         2009    4263     200910  110   70  1.5  2.0
   2:         2009    4664     200910  110   80  0.9  0.9
   3:         2009    9866     200912  121   63  1.0  0.5
   4:         2009   17079     200911  106   60  1.0  0.8
   5:         2009   26776     200902  118   73  0.8  1.0
  ---                                                    
1640:         2015  985608     201512  117   70  1.0  1.0
1641:         2015  992522     201512  116   67  0.7  0.5
1642:         2015  995240     201511  130   80  1.5  1.5
1643:         2015 1005250     201504  110   75  1.2  1.5
1644:         2015 1010623     201502  123   85  0.8  0.8</code></pre>
</div>
</div>
<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>